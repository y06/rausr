<footer>

	<nav class="navbar navbar-expand-lg">
            <a class="navbar-brand navbar-brand-footer" href="/"><img src="/svg/logo-foot.svg" width="71" height="17" alt=""></a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                {{ if .Site.Menus.main }}
                <ul class="navbar-nav">
                {{ range sort .Site.Menus.main }}
                    <li class="nav-item">
                    <a href="{{ .URL }}">{{ .Name }}</a>
                    </li>
                    {{ end }}
                </ul>
                {{ end }}
            </div>
			<div class="navbar-text">
                <a href="mailto:hello@rausr.com">
                	<span class="foot-text">hello@rausr.com</span>
                </a>
                <!--googleoff: all-->
                	<a href="tel:+421910160251" class="foot-text">+421 910 160 251</a>
                <!--googleon: all-->
                <a href="/privacy-policy" class="foot-text">Privacy Policy</a>
			</div>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
                {{ if .Site.Menus.icon }}
                <ul class="nav-socials">
                {{ range sort .Site.Menus.icon }}
                    <li class="nav-icon"><a href="{{ .URL }}" target="_blank"><i class="fab {{ .Name }}"></i></a></li>
                    {{ end }}
                </ul>
                {{ end }}
            </div>
	</nav>


<div class="footer-logo">
    <a href="#" class="scroll-top"><img src="/svg/rugdgroup-1c.svg" width="54px" alt=""></a>
</div>

<div class="copyright">
    <span>¬© {{ now.Year }} rausr.com</span>
</div>

</div>

</footer>

<!-- Add script.js - smooth navigations transitions and so on -->
<script src="{{ "js/script.js" | relURL }}"></script>

<!-- GLighrbox script activating -->
<script>
  const lightbox = GLightbox({
    selector: '.glightbox'
  });
</script>

<!-- Hamburger menu toggle -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.getElementById("menuToggle");
  const icon = document.getElementById("menuIcon");
  const menu = document.getElementById("navbarSupportedContent");
  const pageBlur = document.getElementById("page-blur");

  // Toggle icon and menu when clicking the hamburger
  toggle.addEventListener("click", function () {
    const isExpanded = toggle.getAttribute("aria-expanded") === "true";
    icon.src = isExpanded ? "/svg/hamb.svg" : "/svg/hamb-open.svg";

    if (menu.classList.contains("show")) {
      pageBlur.classList.remove("blur-active");
    } else {
      pageBlur.classList.add("blur-active");
    }
  });

  // Observe class changes on the menu
  const observer = new MutationObserver(() => {
    const isVisible = menu.classList.contains('show');
    icon.src = isVisible ? "/svg/hamb-open.svg" : "/svg/hamb.svg";

    if (isVisible) {
      pageBlur.classList.add("blur-active");
    } else {
      pageBlur.classList.remove("blur-active");
    }
  });

  observer.observe(menu, { attributes: true, attributeFilter: ['class'] });
});
</script>

<!-- Cookie Consent (dynamic loader + init) -->
<script>
(function () {
  const CDN_CSS = "https://cdn.jsdelivr.net/npm/orestbida/cookieconsent@3/dist/cookieconsent.css";
  const CDN_JS  = "https://cdn.jsdelivr.net/npm/orestbida/cookieconsent@3/dist/cookieconsent.js";

  function ensureCss() {
    if ([...document.styleSheets].some(s => s.href && s.href.includes("cookieconsent"))) return;
    const link = document.createElement("link");
    link.rel = "stylesheet";
    link.href = CDN_CSS;
    document.head.appendChild(link);
  }

  function initConsent() {
    if (typeof CookieConsent === "undefined") {
      console.error("CookieConsent library not loaded");
      return;
    }

    // Optional: reset via URL param ?consent=reset  (useful for testing in prod)
    try {
      const qs = new URLSearchParams(location.search);
      if (qs.get("consent") === "reset") {
        CookieConsent.reset(true);
      }
    } catch (e) {}

    CookieConsent.run({
      revision: 2, // bump to re-ask users after config change
      guiOptions: {
        consentModal: {
          layout: "bar",
          position: "bottom center",
          flipButtons: false
        }
      },
      categories: {
        necessary: { enabled: true, readOnly: true },
        analytics: {},
        marketing: {}
      },
      language: {
        default: "en",
        translations: {
          en: {
            consentModal: {
              title: "We use cookies üç™",
              description: "We use necessary cookies to make our site work. Analytics and marketing cookies help us improve your experience.",
              acceptAllBtn: "Accept all",
              acceptNecessaryBtn: "Only necessary",
              showPreferencesBtn: "Manage preferences"
            },
            preferencesModal: {
              title: "Cookie preferences",
              savePreferencesBtn: "Save preferences",
              sections: [
                { title: "Necessary cookies", description: "Always enabled for the site to function." },
                { title: "Analytics cookies", description: "Help us understand how you use our site." },
                { title: "Marketing cookies", description: "Used for personalized advertising." }
              ]
            }
          }
        }
      }
    });
      // Debug + optional force show
      console.log("CookieConsent initialized");
      try {
        const qs = new URLSearchParams(location.search);
        if (qs.get("consent") === "force") {
          CookieConsent.show(true); // force open the modal for testing
        }
      } catch (e) {}
  }

  function ensureJsAndInit() {
    if (typeof CookieConsent !== "undefined") {
      initConsent();
      return;
    }
    const script = document.createElement("script");
    script.src = CDN_JS;
    script.onload = initConsent;
    script.onerror = function () {
      console.error("Failed to load CookieConsent JS from CDN");
    };
    document.head.appendChild(script);
  }

  window.addEventListener("load", function () {
    ensureCss();
    ensureJsAndInit();
  });
})();
</script>

</body>

</html>
